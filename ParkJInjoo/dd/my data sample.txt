//mysql 에서 데이터 추가하기 
//INSERT VALUE 

//http 통신으로 데이터 추가하기 
http -v POST 127.0.0.1:3000/users id=1 name="testname_1" email="test@email_1" profile_image="testimage_1.url" password="testpassword_1"
http -v POST 127.0.0.1:3000/posts id=1 title="test_title_1" posting_content="test_posting_content_1" posting_image="test_posting_image" user_id=1

-- migrate:up
CREATE TABLE users (
  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  email VARCHAR(200) NOT NULL,
  profile_image VARCHAR(1000) NULL,
  password VARCHAR(200) NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NULL ON UPDATE CURRENT_TIMESTAMP
);


-- migrate:down
DROP TABLE users;


-- migrate:up
CREATE TABLE posts (
  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, 
  title VARCHAR(100) NOT NULL,
  posting_content VARCHAR(3000) NOT NULL,
  posting_image VARCHAR(1000) NOT NULL,
  user_id INT NOT NULL,
  CONSTRAINT posts_user_id_fkey FOREIGN KEY(user_id) REFERENCES users(id)
);


-- migrate:down
DROP TABLE posts;

-- migrate:up
CREATE TABLE likes (
  id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  post_id INT NOT NULL, 
  CONSTRAINT likes_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id),
  CONSTRAINT likes_post_id_fkey FOREIGN KEY (post_id) REFERENCES posts(id)
);


-- migrate:down
DROP table likes;

